/*
 * timer.c
 *
 *  Created on: 2023年3月28日
 *      Author: wzl
 */
#include "timer/timer.h"

//-------------------------------------------------------------------------------------------------------------------
// 函数简介       定时中断初始化
// 参数说明       void
// 返回参数       void
//-------------------------------------------------------------------------------------------------------------------
void timer_Init(void)
{
    //开启定时器计数中断,使用CCU61_CH0 ，定时1ms
    pit_ms_init(CCU61_CH0, 1);
}


//-------------------------------------------------------------------------------------------------------------------
// 函数简介       定时中断服务函数
// 参数说明       void
// 返回参数       void
//-------------------------------------------------------------------------------------------------------------------
void timer_interrupt(void)
{
    //
}


IFX_INTERRUPT(cc60_pit_ch1_isr, 0, CCU6_0_CH1_ISR_PRIORITY)
{
    // 开启中断嵌套
    interrupt_global_enable(0);
    pit_clear_flag(CCU61_CH0);
    //中断服务函数
    timer_interrupt();
}
